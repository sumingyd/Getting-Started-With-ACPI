(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{244:function(e,t,a){e.exports=a.p+"assets/img/nvidia.672e8e16.png"},247:function(e,t,a){e.exports=a.p+"assets/img/amd.acf5492b.png"},388:function(e,t,a){"use strict";a.r(t);var s=a(10),v=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"重命名gpu-ssdt-gpu-spoof"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重命名gpu-ssdt-gpu-spoof"}},[e._v("#")]),e._v(" 重命名GPU (SSDT-GPU-SPOOF)")]),e._v(" "),t("p",[e._v("因此，这主要是针对那些因其名称而不被原生支持的GPU所需要的，最常见的是：")]),e._v(" "),t("ul",[t("li",[e._v("R9 290/390")]),e._v(" "),t("li",[e._v("R9 280/380")]),e._v(" "),t("li",[e._v("R7 270/370")]),e._v(" "),t("li",[e._v("R9 260/360")]),e._v(" "),t("li",[e._v("R7 250")]),e._v(" "),t("li",[e._v("R7 240")])]),e._v(" "),t("p",[e._v('相反，这些GPU需要被 "欺骗 "或伪造成与它们密切相关的型号，通常这将是该卡的 "X "变体。由于某些原因，苹果公司从来没有为这些其他的卡添加PCI ID，即使它们的GPU核心被驱动程序所支持。')]),e._v(" "),t("p",[e._v("所以要欺骗GPU，我们需要找到一些东西。")]),e._v(" "),t("ul",[t("li",[e._v("适用于GPU的PCI ID")]),e._v(" "),t("li",[e._v("GPU的ACPI路径")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/decompiled/SSDT-GPU-SPOOF.dsl.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("ssdt-gpu-spoof"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"找到一个合适的pci-id"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#找到一个合适的pci-id"}},[e._v("#")]),e._v(" 找到一个合适的PCI ID")]),e._v(" "),t("h3",{attrs:{id:"网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网络"}},[e._v("#")]),e._v(" 网络")]),e._v(" "),t("p",[e._v("为了找到一个合适的PCI ID，我们将使用"),t("a",{attrs:{href:"https://pci-ids.ucw.cz/read/PC/1002",target:"_blank",rel:"noopener noreferrer"}},[e._v("PCI ID Repository"),t("OutboundLink")],1),e._v("，它有一个所有AMD GPU的完整数据库。在这个例子中，我们将为R9 390创建一个欺骗性的SSDT。关于支持的GPU的完整列表，请参见"),t("a",{attrs:{href:"https://sumingyd.github.io/GPU-Buyers-Guide/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GPU购买指南"),t("OutboundLink")],1),e._v("。与该GPU最接近的是390X，在该网站的顶部附近寻找，我们得到了这个结果：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Vendor 1002 -> Device 1002:67b0\n")])])]),t("p",[e._v("现在让我们把它分解成一个我们可以使用的设备ID。")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("1002")]),e._v(": 供应商的ID，所有AMD设备都有这个ID。")]),e._v(" "),t("li",[t("code",[e._v("67B0")]),e._v(": 设备ID，这就是我们关心的东西")])]),e._v(" "),t("p",[e._v("那么，我们如何将其转换为一个假的ID？好吧，假ID的格式：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('"device-id",\nBuffer (0x04)\n{\n     0xB0, 0x67, 0x00, 0x00\n},\n')])])]),t("p",[e._v("正如你所看到的，这些字节是成对互换的。当我们制作我们的SSDT时，请记住这一点。")]),e._v(" "),t("p",[e._v("具体情况来自"),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Endianness",target:"_blank",rel:"noopener noreferrer"}},[e._v("Endianness"),t("OutboundLink")],1),e._v("的原因，对于那些好奇的人来说")]),e._v(" "),t("h3",{attrs:{id:"linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[e._v("#")]),e._v(" Linux")]),e._v(" "),t("p",[e._v("如果你能运行Linux，使用命令"),t("code",[e._v("lspci -vmmnnD -d 1002::0300")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$ lspci -vmmnnD -d 1002::0300\nSlot: 0000:01:00.0\nClass: VGA compatible controller [0300]\nVendor: Advanced Micro Devices, Inc. [AMD/ATI] [1002]\nDevice: Oland [Radeon HD 8570 / R7 240/340 / Radeon 520 OEM] [6611]\nSVendor: Micro-Star International Co., Ltd. [MSI] [1462]\nSDevice: Device [3740]\nRev: 87\n")])])]),t("p",[e._v("你可以很容易地得到")]),e._v(" "),t("ul",[t("li",[e._v("插槽ID "),t("code",[e._v("0000:01:00.0")]),e._v("，我们以后需要它")]),e._v(" "),t("li",[e._v("供应商ID "),t("code",[e._v("1002")]),e._v("，所有AMD设备都有这个ID")]),e._v(" "),t("li",[e._v("设备ID "),t("code",[e._v("6611")]),e._v("，这是我们关心的")]),e._v(" "),t("li",[e._v("设备名称 "),t("code",[e._v("Radeon HD 8570 / R7 240/340 / Radeon 520 OEM")]),e._v("，主要是外观")])]),e._v(" "),t("h2",{attrs:{id:"找到gpu的acpi路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#找到gpu的acpi路径"}},[e._v("#")]),e._v(" 找到GPU的ACPI路径")]),e._v(" "),t("h3",{attrs:{id:"windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" Windows")]),e._v(" "),t("p",[e._v("要找到GPU的PCI路径是相当简单的，最好的方法是运行Windows：")]),e._v(" "),t("ul",[t("li",[e._v("打开设备管理器")]),e._v(" "),t("li",[e._v("选择显示适配器，然后右击你的GPU并选择属性")]),e._v(" "),t("li",[e._v('在 "详细信息 "标签下，搜索 "位置路径"\n'),t("ul",[t("li",[e._v('注意一些GPU可能隐藏在 "BIOS设备名称 "下')])])])]),e._v(" "),t("p",[t("img",{attrs:{src:a(247),alt:""}})]),e._v(" "),t("p",[t("img",{attrs:{src:a(244),alt:"Credit to 1Revenger1 for the image"}})]),e._v(" "),t("p",[e._v('第二个 "ACPI "是我们所关心的。')]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("ACPI(_SB_)#ACPI(PC02)#ACPI(BR2A)#ACPI(PEGP)#PCI(0000)#PCI(0000)\n")])])]),t("p",[e._v("现在将其转换为ACPI路径非常简单，去掉"),t("code",[e._v("#ACPI")]),e._v("和"),t("code",[e._v("#PCI(0000)")]),e._v("。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\\_SB_.PC02.BR2A.PEGP\n")])])]),t("h3",{attrs:{id:"linux-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-2"}},[e._v("#")]),e._v(" Linux")]),e._v(" "),t("p",[e._v("将上面找到的SLOTID代入"),t("code",[e._v("cat /sys/bus/pci/devices/SLOTID/firmware_node/path")]),e._v("命令，你会得到")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$ cat /sys/bus/pci/devices/0000:01:00.0/firmware_node/path\n\\_SB_.PC02.BR2A.PEGP\n")])])]),t("p",[e._v("好了! 我们已经找到了我们的ACPI路径，现在我们有了一切，我们准备开始了")]),e._v(" "),t("h2",{attrs:{id:"制作ssdt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作ssdt"}},[e._v("#")]),e._v(" 制作SSDT")]),e._v(" "),t("p",[e._v("开始时，获取我们的"),t("a",{attrs:{href:"https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/decompiled/SSDT-GPU-SPOOF.dsl.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("SSDT-GPU-SPOOF"),t("OutboundLink")],1),e._v("并将其打开。这里有几件事情需要改变")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("External (_SB_.PCI0, DeviceObj)\nExternal (_SB_.PCI0.PEG0.PEGP, DeviceObj)\n")])])]),t("p",[e._v("对于我们的例子，我们将改变所有提到的:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("PCI0")]),e._v("改为"),t("code",[e._v("PC02")])]),e._v(" "),t("li",[t("code",[e._v("PEG0")]),e._v("改为"),t("code",[e._v("BR2A")])])]),e._v(" "),t("p",[e._v("提示：如果你的ACPI路径比例子中的要短一些，这也没有问题。只要确保ACPI路径对你的设备是正确的。")]),e._v(" "),t("p",[e._v("现在，ACPI路径是正确的，我们终于可以应用我们的假ID了！！。")]),e._v(" "),t("p",[e._v("因此，我们要改变的2个部分：")]),e._v(" "),t("p",[t("strong",[e._v("device ID")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('"device-id",\nBuffer (0x04)\n{\n    0xB0, 0x67, 0x00, 0x00\n},\n')])])]),t("p",[t("strong",[e._v("Model")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('"model",\nBuffer ()\n{\n    "AMD Radeon R9 390"\n}\n')])])]),t("p",[t("code",[e._v("device-id")]),e._v('将被设置为我们在 "寻找合适的PCI ID "中找到的PCI ID，而'),t("code",[e._v("model")]),e._v("则主要是美化。")]),e._v(" "),t("h2",{attrs:{id:"现在你准备编译ssdt了"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#现在你准备编译ssdt了"}},[e._v("#")]),e._v(" "),t("RouterLink",{attrs:{to:"/Manual/compile.html"}},[e._v("现在你准备编译SSDT了！")])],1)])}),[],!1,null,null,null);t.default=v.exports}}]);