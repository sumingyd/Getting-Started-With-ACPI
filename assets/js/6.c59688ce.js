(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{297:function(t,e,a){t.exports=a.p+"assets/img/gpio-enabled.c84356b7.png"},298:function(t,e,a){t.exports=a.p+"assets/img/gpi0-2.8c3726d3.png"},299:function(t,e,a){t.exports=a.p+"assets/img/gpi0.b0e0b8d8.png"},300:function(t,e,a){t.exports=a.p+"assets/img/I2C1.0f9ba64b.png"},301:function(t,e,a){t.exports=a.p+"assets/img/ini.d85500ac.png"},354:function(t,e,a){"use strict";a.r(e);var _=a(10),s=Object(_.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"修复触控板-手动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修复触控板-手动"}},[t._v("#")]),t._v(" 修复触控板:手动")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E6%A3%80%E6%9F%A5gpi0"}},[t._v("检查 GPI0")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E5%AF%B9%E7%A4%BA%E4%BE%8Bssdt%E8%BF%9B%E8%A1%8C%E7%BC%96%E8%BE%91"}},[t._v("对示例 SSDT 进行编辑")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E5%90%AF%E7%94%A8%E8%A7%A6%E6%91%B8%E6%9D%BF"}},[t._v("启用触摸板")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%E7%BB%93%E6%9D%9F"}},[t._v("Wrapping up")])])]),t._v(" "),e("h2",{attrs:{id:"检查gpi0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查gpi0"}},[t._v("#")]),t._v(" 检查GPI0")]),t._v(" "),e("p",[t._v("本页面假设你已经安装了macOS和"),e("a",{attrs:{href:"https://github.com/khronokernel/IORegistryClone/blob/master/ioreg-302.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("IORegistryExplorer"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("首先要检查GPI0设备是否存在，这是VoodooI2C所需要的。检查它是否正常工作的最好方法是使用IORegistryExplorer。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(297),alt:""}})]),t._v(" "),e("p",[t._v("在这里，我们可以看到VoodooGPIO连接到GPI0，因此不需要对GPI0进行编辑。如果你是这种情况，你可以跳到"),e("a",{attrs:{href:"#%E5%90%AF%E7%94%A8%E8%A7%A6%E6%91%B8%E6%9D%BF"}},[t._v("下一节")]),t._v(".")]),t._v(" "),e("p",[t._v("如果VoodooGPIO没有连接，那么你可能需要修改一些值来启用"),e("code",[t._v("GPI0")]),t._v("设备。在这种情况下，您需要在DSDT中找到GPI0设备。")]),t._v(" "),e("p",[t._v("首先打开你的反编译DSDT你从"),e("RouterLink",{attrs:{to:"/Manual/dump.html"}},[t._v("转储DSDT")]),t._v("和"),e("RouterLink",{attrs:{to:"/Manual/compile.html"}},[t._v("反编译和编译")]),t._v("与MaciASL(如果在macOS)或任何其他文本编辑器，如果在Windows或Linux (VSCode有一个"),e("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=Thog.vscode-asl",target:"_blank",rel:"noopener noreferrer"}},[t._v("ACPI扩展"),e("OutboundLink")],1),t._v("也可以帮助)。")],1),t._v(" "),e("p",[t._v("接下来搜索"),e("code",[t._v("Device (GPI0)")]),t._v("。你应该得到类似这样的结果:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(298),alt:""}})]),t._v(" "),e("p",[t._v("下面是"),e("code",[t._v("_STA")]),t._v("方法，用于启用或禁用GPI0设备:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Method (_STA, 0, NotSerialized)\n{\n    If ((SBRG == Zero))\n    {\n        Return (Zero)\n    }\n\n    If ((GPEN == Zero))\n    {\n        Return (Zero)\n    }\n\n    Return (0x0F)\n}\n")])])]),e("p",[t._v("我们希望从_STA返回的值非零(在本例中为0x0F)以启用"),e("code",[t._v("GPI0")]),t._v("设备。如果"),e("code",[t._v("SBRG")]),t._v("或"),e("code",[t._v("GPEN")]),t._v("的值为零，则返回零，"),e("code",[t._v("GPI0")]),t._v("将被禁用。一般来说，"),e("code",[t._v("SBRG")]),t._v("不应该被修改，因为修改它会破坏"),e("code",[t._v("GPI0")]),t._v("设备。如果你需要启用"),e("code",[t._v("GPI0")]),t._v("设备，只需要修改"),e("code",[t._v("GPEN")]),t._v("。")]),t._v(" "),e("p",[t._v("下面是更多的例子:\n"),e("img",{attrs:{src:a(299),alt:""}})]),t._v(" "),e("p",[t._v("我们关心的是"),e("code",[t._v("_STA")]),t._v("方法:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Method (_STA, 0, NotSerialized)\n{\n    If ((GPHD == One))\n    {\n        Return (0x03)\n    }\n\n    Return (0x0F)\n}\n")])])]),e("p",[t._v("这里我们想将"),e("code",[t._v("GPHD")]),t._v("设置为"),e("code",[t._v("Zero")]),t._v("，以便返回0x0F。")]),t._v(" "),e("h2",{attrs:{id:"对示例ssdt进行编辑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对示例ssdt进行编辑"}},[t._v("#")]),t._v(" 对示例SSDT进行编辑")]),t._v(" "),e("p",[t._v("现在我们知道需要修改哪些变量，让我们获取SSDT并开始工作:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/decompiled/SSDT-GPI0.dsl",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSDT-GPI0.dsl"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("在第一个例子中，我们将GPEN设置为"),e("code",[t._v("One")]),t._v("以允许它在macOS中运行:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('// 这可能已经在你下载的SSDT-GPIO中设置好了\nIf (_OSI ("Darwin"))\n{\n    GPEN = One\n}\n')])])]),e("p",[t._v("对于第二个示例，您需要删除GPEN并使用下面的代码:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('If (_OSI ("Darwin"))\n{\n    GPHD = Zero\n}\n')])])]),e("p",[t._v("此时，您需要通过"),e("RouterLink",{attrs:{to:"/Manual/compile.html"}},[t._v("编译SSDT")]),t._v("并将其添加到config.plist中来测试SSDT。VoodooGPIO现在应该连接到GPI0设备，如GPI0部分顶部所示。如果你的触控板在启用"),e("code",[t._v("GPI0")]),t._v("设备后仍然不能工作，请继续下一节。")],1),t._v(" "),e("h2",{attrs:{id:"启用触摸板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启用触摸板"}},[t._v("#")]),t._v(" 启用触摸板")]),t._v(" "),e("p",[t._v("通常情况下，I2C设备在启用之前会检查它们是否在Windows中运行。与"),e("code",[t._v("GPI0")]),t._v("设备类似，这些设备包含一个"),e("code",[t._v("_STA")]),t._v("方法。")]),t._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("_STA 示例 (可选)")]),t._v(" "),e("p",[e("img",{attrs:{src:a(300),alt:""}})]),t._v(" "),e("p",[t._v("我们关心的部分是"),e("code",[t._v("_STA")]),t._v("方法:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Method (_STA, 0, NotSerialized)  // _STA: Status\n{\n    Return (LSTA (SMD1))\n}\n")])])]),e("p",[t._v("在这个例子中，"),e("code",[t._v("_STA")]),t._v("指向另一个方法"),e("code",[t._v("LSTA")]),t._v("。如果我们搜索"),e("code",[t._v("Method (LSTA")]),t._v("，我们会看到以下内容:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Method (LSTA, 1, Serialized)\n{\n    If (((Arg0 == 0x00) || (Arg0 == 0x03)))\n    {\n        Return (0x00)\n    }\n\n    If (CondRefOf (OSYS))\n    {\n        If ((OSYS < 0x07DC))\n        {\n            Return (0x00)\n        }\n    }\n\n    Return (0x0F)\n}\n")])])]),e("p",[t._v("取值为"),e("code",[t._v("OSYS")]),t._v("，保存当前操作系统的运行信息。我们需要查找任何设置了"),e("code",[t._v("OSYS")]),t._v("的位置(例如"),e("code",[t._v("OSYS = 0x07DC")]),t._v(")。在这个DSDT中，它被设置在"),e("code",[t._v("\\_SB.PCI0._INI")]),t._v("下。如下所示:")]),t._v(" "),e("p",[e("img",{attrs:{src:a(301),alt:""}})]),t._v(" "),e("p",[t._v("对不同版本的Windows有各种各样的检查，但没有对"),e("code",[t._v("Darwin")]),t._v("的检查(苹果的ACPI通常会检查这个)。我们通常希望将"),e("code",[t._v("OSYS")]),t._v("设置为尽可能高的值以启用大多数功能。在本例中，当Windows版本为"),e("code",[t._v("Windows 2015")]),t._v("或"),e("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows-hardware/drivers/acpi/winacpi-osi#_osi-strings-for-windows-operating-systems",target:"_blank",rel:"noopener noreferrer"}},[t._v("Windows 10"),e("OutboundLink")],1),t._v("时，设置的值最高。这意味着我们应该将"),e("code",[t._v("OSYS")]),t._v("设置为"),e("code",[t._v("0x07DF")]),t._v("。注意，这个值大于"),e("code",[t._v("0x07DC")]),t._v("，这是之前检查的值。如果我们将"),e("code",[t._v("OSYS")]),t._v("设置为"),e("code",[t._v("0x07DF")]),t._v("，那么LSTA中的检查应该返回"),e("code",[t._v("0x0F")]),t._v("。")])]),t._v(" "),e("p",[t._v("为这些检查打补丁的最好方法是在SSDT-XOSI中使用_OSI to XOSI。您还可以在I2C设备的范围内设置"),e("code",[t._v("OSYS")]),t._v("，尽管这可能并不总是有效(上面的示例在这里不起作用，因为LSTA不在I2C设备的范围内)。")]),t._v(" "),e("h3",{attrs:{id:"osi-to-xosi"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#osi-to-xosi"}},[t._v("#")]),t._v(" _OSI to XOSI")]),t._v(" "),e("p",[t._v("需要以下SSDT和补丁")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/decompiled/SSDT-XOSI.dsl",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSDT-XOSI.dsl"),e("OutboundLink")],1),t._v(" - 如果您需要编辑"),e("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows-hardware/drivers/acpi/winacpi-osi#_osi-strings-for-windows-operating-systems",target:"_blank",rel:"noopener noreferrer"}},[t._v("which versions of Windows the SSDT checks for"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/compiled/SSDT-XOSI.aml",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSDT-XOSI.aml"),e("OutboundLink")],1),t._v(" - 预编译")]),t._v(" "),e("li",[t._v("XOSI 重命名 (添加这个到 ACPI -> Patch in your config.plist):")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Change _OSI to XOSI")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Count")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Limit")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Find")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("5f4f5349")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Replace")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("584f5349")])])])]),t._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("戴尔的机器")]),t._v(" "),e("p",[t._v("您可能需要添加下面的补丁，以允许背光键工作。\n请确保此补丁出现在config.plist中之前的_OSI到XOSI补丁的"),e("strong",[t._v("之前")]),t._v("\n以下补丁由Rehabman提供:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Comment")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Change _OSID to XSID (to avoid match against _OSI patch)")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Enabled")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("YES")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Count")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Limit")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("0")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Find")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("4F534944")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Replace")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Data")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("58534944")])])])])]),t._v(" "),e("h3",{attrs:{id:"创建osys变量在i2c范围内"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建osys变量在i2c范围内"}},[t._v("#")]),t._v(" 创建OSYS变量在I2C范围内")]),t._v(" "),e("p",[t._v("你需要找到检查了OSYS的设备路径，然后在该范围内创建一个新的OSYS变量。这只会改变该范围内设备的ossys，以便更好地控制启用的设备。注意，在上面的例子中，"),e("code",[t._v("LSTA")]),t._v("存在于"),e("code",[t._v("\\_SB.PCI0.LSTA")]),t._v("，意味着"),e("code",[t._v("\\_SB.PCI0. 0._INI")]),t._v("和"),e("code",[t._v("\\_SB.PCI0.LSTA")]),t._v("将控制相同的OSYS变量。如果是这种情况，此方法将不起作用。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('If (_OSI("Darwin")) {\n    Scope (\\_SB.PCI0.I2C0) { // I2C0 scope\n        Name (OSYS, 0x7DF)\n    }\n}\n')])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("多个Windows版本")]),t._v(" "),e("p",[t._v('Windows在检查Windows的早期版本时也会返回true。例如，Windows 7在"Windows 2000"到"Windows 2009"之间都会返回true，但在此之后的任何版本都不会返回true。这一点很重要，因为一些功能只在早期的Windows检查中启用。例如，新款thinkpad上的DYTC热管理功能只有在检查“Windows 2001”时才能启用。你需要检查你自己的DSDT，看看它设置了什么值，以及它们在哪里被使用。此时，你应该'),e("RouterLink",{attrs:{to:"/Manual/compile.html"}},[t._v("编译SSDT")]),t._v("并查看触控板是否工作。")],1)]),t._v(" "),e("h2",{attrs:{id:"进一步设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#进一步设置"}},[t._v("#")]),t._v(" 进一步设置")]),t._v(" "),e("p",[t._v("如果你需要进一步的帮助让你的触控板工作，那么最好的地方是"),e("a",{attrs:{href:"https://github.com/VoodooI2C/VoodooI2C",target:"_blank",rel:"noopener noreferrer"}},[t._v("VoodooI2C的readme"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"结束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结束"}},[t._v("#")]),t._v(" 结束")]),t._v(" "),e("p",[t._v("完成SSDT后，可以转到下一页完成其余的SSDT，如果准备好了，可以转到此处:")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/cleanup.html"}},[e("strong",[t._v("Cleanup")])])],1)])])}),[],!1,null,null,null);e.default=s.exports}}]);